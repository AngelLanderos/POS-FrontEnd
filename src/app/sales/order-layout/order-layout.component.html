<!-- plantilla padre -->
<div class="grid grid-cols-4 gap-4">

  <!-- COLUMNA IZQUIERDA (3 columnas) -->
  <div class="col-span-3 flex flex-col h-[calc(100vh-7rem)]">
    <!-- Cabecera y filtros (fijos en top de la columna) -->
    <div class="px-0">
      <div class="grid grid-cols-5 gap-2">
        <button class="col-span-1 input bg-zinc-950 text-xl font-bold hover:bg-zinc-800 hover:cursor-pointer" (click)="goBack()">
          <!-- svg omitted -->
          Regresar
        </button>

        <label class="col-span-2 input w-full bg-neutral-100 shadow-xl text-xl text-black font-bold flex justify-center items-center">
          Mesa #{{currentTableId()}}
        </label>

        <label class="col-span-2 input w-full bg-neutral-100 shadow-xl text-xl text-black font-bold flex items-center">
          <!-- svg omitted -->
          Atiende: <span class="font-normal ml-2">Angelica</span>
        </label>
      </div>

      <label class="input w-full bg-neutral-300 shadow-xl mt-2 flex items-center px-3">
        <!-- svg omitted -->
        <input type="search" class="grow text-slate-500 text-center bg-transparent outline-none" placeholder="Busque un producto" />
      </label>

      <select class="select select-ghost w-full h-14 mt-3 bg-zinc-950 shadow-xl text-xl text-center"
        (change)="this.filter.set(+category.value)" #category>
        <option selected value="-1">Todos</option>
        @for (category of productCategories(); track $index) {
          <option [value]="category.id">{{category.name}}</option>
        }
      </select>
    </div>

    <!-- AREA SCROLLABLE DE PRODUCTOS -->
    <!-- flex-1 garantiza que ocupe el espacio restante y overflow-y-auto produce el scroll independiente -->
    <div class="flex-1 overflow-y-auto mt-3 p-2">
      <!-- Si product-grid ya es un grid, aquÃ­ lo mantienes -->
      <product-grid (newProduct)="productToAdd.set($event)" [filterCategory]="this.filter()"></product-grid>
    </div>
  </div>

  <!-- COLUMNA DERECHA (order-summary) -->
  <div class="col-span-1">
    <order-summary
      class="block"
      [newProduct]="productToAdd()"
      [tableNumber]="currentTableId()"
    ></order-summary>
  </div>

</div>
