<!-- plantilla padre -->
<div class="grid grid-cols-4 gap-4">

  <!-- COLUMNA IZQUIERDA (3 columnas) -->
  <div class="col-span-3 flex flex-col h-[calc(100vh-7rem)]">
    <!-- Cabecera y filtros (fijos en top de la columna) -->
    <div class="px-0">
      <div class="grid grid-cols-5 gap-2">
        <button class="col-span-1 input bg-zinc-950 text-xl font-bold hover:bg-zinc-800 hover:cursor-pointer" (click)="goBack()">
          <svg xmlns="http://www.w3.org/2000/svg" width="40" height="24" viewBox="0 0 30 24">
      <path fill="#fff"
        d="m4 10l-.707.707L2.586 10l.707-.707zm17 8a1 1 0 1 1-2 0zM8.293 15.707l-5-5l1.414-1.414l5 5zm-5-6.414l5-5l1.414 1.414l-5 5zM4 9h10v2H4zm17 7v2h-2v-2zm-7-7a7 7 0 0 1 7 7h-2a5 5 0 0 0-5-5z"
        stroke-width="0.5" stroke="#fff" />
    </svg>
          Regresar
        </button>

        <label class="col-span-2 input w-full bg-neutral-100 shadow-xl text-xl text-black font-bold flex justify-center items-center">
          {{orderIdentifier()}}
        </label>

        <label class="col-span-2 input w-full bg-neutral-100 shadow-xl text-xl text-black font-bold flex items-center">
          <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36">
      <circle cx="16.86" cy="9.73" r="6.46" fill="#1d4ed8" stroke-width="1" stroke="#1d4ed8" />
      <path fill="#1d4ed8" d="M21 28h7v1.4h-7z" stroke-width="1" stroke="#1d4ed8" />
      <path fill="#1d4ed8"
        d="M15 30v3a1 1 0 0 0 1 1h17a1 1 0 0 0 1-1V23a1 1 0 0 0-1-1h-7v-1.47a1 1 0 0 0-2 0V22h-2v-3.58a32 32 0 0 0-5.14-.42a26 26 0 0 0-11 2.39a3.28 3.28 0 0 0-1.88 3V30Zm17 2H17v-8h7v.42a1 1 0 0 0 2 0V24h6Z"
        stroke-width="1" stroke="#1d4ed8" />
    </svg>
          Atiende: <span class="font-normal ml-2">Angelica</span>
        </label>
      </div>

      <label class="input w-full bg-neutral-300 shadow-xl mt-2 flex items-center px-3">
        <!-- svg omitted -->
        <input type="search" class="grow text-slate-500 text-center bg-transparent outline-none" placeholder="Busque un producto" />
      </label>

      <select class="select select-ghost w-full h-14 mt-3 bg-zinc-950 shadow-xl text-xl text-center"
        (change)="this.filter.set(+category.value)" #category>
        <option selected value="-1">Todos</option>
        @for (category of productCategories(); track $index) {
          <option [value]="category.id">{{category.name}}</option>
        }
      </select>
    </div>

    <!-- AREA SCROLLABLE DE PRODUCTOS -->
    <!-- flex-1 garantiza que ocupe el espacio restante y overflow-y-auto produce el scroll independiente -->
    <div class="flex-1 overflow-y-auto mt-3 p-2">
      <!-- Si product-grid ya es un grid, aquÃ­ lo mantienes -->
      <product-grid (newProduct)="productToAdd.set($event)" [filterCategory]="this.filter()"></product-grid>
    </div>
  </div>

  <!-- COLUMNA DERECHA (order-summary) -->
  <div class="col-span-1">
    <order-summary
      class="block"
      [newProduct]="productToAdd()"
      [tableNumber]="currentTableId()"
      [isBarSale]="isBarSale()"
    ></order-summary>
  </div>

</div>
